"use strict";(self["webpackChunktodo_project"]=self["webpackChunktodo_project"]||[]).push([[778],{8710:(e,l,a)=>{a.d(l,{GD:()=>d,Jf:()=>v,UZ:()=>p,g5:()=>c,qJ:()=>g,zw:()=>f});var t=a(499),o=a(4727),r=a(397),s=a(338),n=a(482),u=a(1669),i=a(6827),m=a(5198);const c=(0,t.iH)(!0),d=(0,t.iH)({email:"",password:"",rememberMe:!1});function p(){d.value={email:"",password:"",rememberMe:!1},u.F.push("/")}function f(){c.value=!1,m.xj.value=!0}function g(){m.xj.value=!1,c.value=!0}function v(){o._.value=!0,console.log("User Logged",d),(0,r.e5)(s.fauth,d.value.email,d.value.password).then((e=>{(0,n.L)().setUser(e.user.uid),u.F.push("/dash").then((()=>{o._.value=!1}))})).catch((e=>{i.Z.create({message:e.message,color:"negative",position:"bottom",icon:"warning"}),console.log("Error",e),o._.value=!1}))}},5198:(e,l,a)=>{a.d(l,{$B:()=>v,NZ:()=>h,a4:()=>U,je:()=>f,xj:()=>g});var t=a(499),o=a(1741),r=a(338),s=a(2373),n=a(482),u=a(8570),i=a(397),m=a(1669),c=a(4727),d=a(6827),p=function(e,l,a,t){function o(e){return e instanceof a?e:new a((function(l){l(e)}))}return new(a||(a=Promise))((function(a,r){function s(e){try{u(t.next(e))}catch(l){r(l)}}function n(e){try{u(t["throw"](e))}catch(l){r(l)}}function u(e){e.done?a(e.value):o(e.value).then(s,n)}u((t=t.apply(e,l||[])).next())}))};const f=(0,t.iH)(1),g=(0,t.iH)(!1),v=(0,t.iH)(),h=(0,t.iH)({username:"",email:"",password:"",confirmPassword:"",firstName:"",lastName:"",profileImage:"",role:[]});function w(){return p(this,void 0,void 0,(function*(){const e={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0};return yield(0,o.Z)(v.value,e)}))}function U(){return p(this,void 0,void 0,(function*(){c._.value=!0,(0,i.Xb)(r.fauth,h.value.email,h.value.password).then((e=>p(this,void 0,void 0,(function*(){const l=(0,u.iH)(r.fdb,"Users/"+e.user.uid+"/UserInfo"),a=(0,s.iH)(r.fst,"profileimages/"+e.user.uid),t=yield w(),o=yield(0,s.KV)(a,t);console.log(o);const i=yield(0,s.Jt)(a);console.log(i),h.value.profileImage=i,h.value.username=yield h.value.firstName+" "+h.value.lastName,(0,u.t8)(l,h.value).then((()=>{console.log("User Created");const e=(0,n.L)();e.user={email:h.value.email,username:h.value.username,profileurl:i}})).then().catch((e=>{d.Z.create({message:e.message,color:"red",position:"top",timeout:2e3})}))})))).then((()=>{m.F.push("/dash").then((()=>{c._.value=!1}))})).catch((e=>{console.log(e),d.Z.create({message:e.message,color:"red",position:"top",timeout:2e3}),c._.value=!1}))}))}},3778:(e,l,a)=>{a.r(l),a.d(l,{default:()=>K});var t=a(9835);function o(e,l,a,o,r,s){const n=(0,t.up)("Loading"),u=(0,t.up)("CreateUser"),i=(0,t.up)("LogUser");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(n,{show:r.loader},null,8,["show"]),(0,t.Wm)(u),(0,t.Wm)(i)],64)}var r=a(4727),s=a(2883);const n={class:"flex-center"},u=(0,t._)("div",{class:"bg-primary text-center text-h5 text-white"},"Create User",-1),i={class:"full-width flex"},m={class:"full-width flex"},c={class:"bg-grey-2 q-pa-sm rounded-borders"},d=(0,t.Uk)(" Select Your Role: "),p={class:"full-width"},f={class:"flex"},g=(0,t._)("u",null,"Already have an account?",-1),v=[g];function h(e,l,a,o,r,s){const g=(0,t.up)("q-input"),h=(0,t.up)("q-step"),w=(0,t.up)("q-option-group"),U=(0,t.up)("q-icon"),V=(0,t.up)("q-file"),_=(0,t.up)("q-btn"),b=(0,t.up)("q-stepper-navigation"),q=(0,t.up)("q-stepper"),y=(0,t.up)("q-dialog");return(0,t.wg)(),(0,t.j4)(y,{modelValue:o.Active_Register,"onUpdate:modelValue":l[12]||(l[12]=e=>o.Active_Register=e),class:"flex",persistent:""},{default:(0,t.w5)((()=>[(0,t._)("div",n,[u,(0,t.Wm)(q,{modelValue:o.createuserstepper,"onUpdate:modelValue":l[11]||(l[11]=e=>o.createuserstepper=e),ref:"regstepper",color:"primary",animated:""},{navigation:(0,t.w5)((()=>[(0,t.Wm)(b,null,{default:(0,t.w5)((()=>[(0,t._)("div",f,[(0,t.Wm)(_,{onClick:l[8]||(l[8]=l=>3!==o.createuserstepper?e.$refs.regstepper.next():o.RegisterUser()),color:"primary",label:3===o.createuserstepper?"Register":"Continue"},null,8,["label"]),1===o.createuserstepper?((0,t.wg)(),(0,t.iD)("div",{key:0,onClick:l[9]||(l[9]=e=>o.LogUserfromReg()),class:"text-center q-ma-sm cursor-pointer text-blue-9"},v)):(0,t.kq)("",!0),o.createuserstepper>1?((0,t.wg)(),(0,t.j4)(_,{key:1,flat:"",color:"primary",onClick:l[10]||(l[10]=l=>e.$refs.regstepper.previous()),label:"Back"})):(0,t.kq)("",!0)])])),_:1})])),default:(0,t.w5)((()=>[(0,t.Wm)(h,{name:1,title:e.$q.screen.width>600?"User Details":"",icon:"user",done:o.createuserstepper>1},{default:(0,t.w5)((()=>[(0,t._)("div",i,[(0,t.Wm)(g,{modelValue:o.Profile.firstName,"onUpdate:modelValue":l[0]||(l[0]=e=>o.Profile.firstName=e),label:"First Name",type:"text",placeholder:"First Name",class:"q-ma-sm"},null,8,["modelValue"]),(0,t.Wm)(g,{modelValue:o.Profile.lastName,"onUpdate:modelValue":l[1]||(l[1]=e=>o.Profile.lastName=e),type:"text",label:"Last Name",placeholder:"Last Name",class:"q-ma-sm"},null,8,["modelValue"])]),(0,t.Wm)(g,{class:"q-ma-sm",modelValue:o.Profile.email,"onUpdate:modelValue":l[2]||(l[2]=e=>o.Profile.email=e),type:"email",label:"User Email",placeholder:"Email Address"},null,8,["modelValue"])])),_:1},8,["title","done"]),(0,t.Wm)(h,{name:2,title:e.$q.screen.width>600?"Security Details":"",icon:"lock",done:o.createuserstepper>1},{default:(0,t.w5)((()=>[(0,t._)("div",m,[(0,t.Wm)(g,{modelValue:o.Profile.password,"onUpdate:modelValue":l[3]||(l[3]=e=>o.Profile.password=e),label:"Password",type:"text",placeholder:"First Name",class:"q-ma-sm"},null,8,["modelValue"]),(0,t.Wm)(g,{modelValue:o.Profile.confirmPassword,"onUpdate:modelValue":l[4]||(l[4]=e=>o.Profile.confirmPassword=e),type:"text",label:"Confirm Password",placeholder:"Last Name",class:"q-ma-sm"},null,8,["modelValue"])]),(0,t._)("div",c,[d,(0,t.Wm)(w,{inline:"",modelValue:o.Profile.role,"onUpdate:modelValue":l[5]||(l[5]=e=>o.Profile.role=e),options:o.options,color:"primary",type:"checkbox"},null,8,["modelValue","options"])])])),_:1},8,["title","done"]),(0,t.Wm)(h,{name:3,title:e.$q.screen.width>600?"Security Details":"",icon:"photo_camera",done:o.createuserstepper>1},{default:(0,t.w5)((()=>[(0,t._)("div",p,[(0,t.Wm)(V,{class:"q-ma-md",label:"Profile Image",clearable:"",standout:"",modelValue:o.File,"onUpdate:modelValue":l[6]||(l[6]=e=>o.File=e),style:{width:"70%"},onChange:l[7]||(l[7]=l=>e.compressimage())},{append:(0,t.w5)((()=>[(0,t.Wm)(U,{name:"camera"})])),_:1},8,["modelValue"])])])),_:1},8,["title","done"])])),_:1},8,["modelValue"])])])),_:1},8,["modelValue"])}var w=a(5198),U=a(8710);const V={name:"CreateUser",setup(){return{createuserstepper:w.je,Active_Register:w.xj,Profile:w.NZ,RegisterUser:w.a4,File:w.$B,LogUserfromReg:U.qJ,options:[{label:"Student",value:"student"},{label:"Teacher",value:"teacher"},{label:"Other",value:"other"}]}}};var _=a(1639),b=a(2074),q=a(8225),y=a(8335),x=a(4152),W=a(5429),L=a(3837),Z=a(2857),k=a(1992),C=a(4455),P=a(9984),D=a.n(P);const N=(0,_.Z)(V,[["render",h]]),Q=N;D()(V,"components",{QDialog:b.Z,QStepper:q.Z,QStep:y.Z,QInput:x.Z,QOptionGroup:W.Z,QFile:L.Z,QIcon:Z.Z,QStepperNavigation:k.Z,QBtn:C.Z});const I=(0,t.Uk)(" Log In "),j=(0,t._)("u",null,"Don't have an account?",-1),R=[j],F=(0,t.Uk)("Log In"),H=(0,t.Uk)("Cancel");function S(e,l,a,o,r,s){const n=(0,t.up)("q-card-section"),u=(0,t.up)("q-separator"),i=(0,t.up)("q-input"),m=(0,t.up)("q-checkbox"),c=(0,t.up)("q-btn"),d=(0,t.up)("q-card-actions"),p=(0,t.up)("q-card"),f=(0,t.up)("q-dialog");return(0,t.wg)(),(0,t.j4)(f,{modelValue:o.Active_Log,"onUpdate:modelValue":l[4]||(l[4]=e=>o.Active_Log=e),persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{class:"absolute-center"},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{class:"q-ma-lg text-center text-h4 text-bold"},{default:(0,t.w5)((()=>[I])),_:1}),(0,t.Wm)(u),(0,t.Wm)(n,{class:"q-ma-lg"},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{modelValue:o.LogInData.email,"onUpdate:modelValue":l[0]||(l[0]=e=>o.LogInData.email=e),class:"full-width q-ma-md",type:"email",label:"Email"},null,8,["modelValue"]),(0,t.Wm)(i,{modelValue:o.LogInData.password,"onUpdate:modelValue":l[1]||(l[1]=e=>o.LogInData.password=e),class:"full-width q-ma-md",type:"password",label:"Password"},null,8,["modelValue"]),(0,t.Wm)(m,{label:"Remember Me",modelValue:o.LogInData.rememberMe,"onUpdate:modelValue":l[2]||(l[2]=e=>o.LogInData.rememberMe=e)},null,8,["modelValue"]),(0,t._)("div",{onClick:l[3]||(l[3]=e=>o.RegUserfromLog()),class:"text-center q-ma-sm cursor-pointer text-blue-9"},R)])),_:1}),(0,t.Wm)(d,{class:"justify-evenly"},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{color:"primary",onClick:o.LogUser},{default:(0,t.w5)((()=>[F])),_:1},8,["onClick"]),(0,t.Wm)(c,{color:"primary",onClick:o.Clear},{default:(0,t.w5)((()=>[H])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}const A={name:"LogUser",setup(){return{LogInData:U.GD,Active_Log:U.g5,LogUser:U.Jf,RegUserfromLog:U.zw,Clear:U.UZ}}};var $=a(4458),B=a(3190),M=a(926),J=a(1221),E=a(1821);const z=(0,_.Z)(A,[["render",S]]),G=z;D()(A,"components",{QDialog:b.Z,QCard:$.Z,QCardSection:B.Z,QSeparator:M.Z,QInput:x.Z,QCheckbox:J.Z,QCardActions:E.Z,QBtn:C.Z});const O={components:{Loading:s.Z,CreateUser:Q,LogUser:G},data(){return{loader:r._}}},Y=(0,_.Z)(O,[["render",o]]),K=Y}}]);